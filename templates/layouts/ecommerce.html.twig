{#
  E-commerce Layout Template
  
  Props:
  - title: page title
  - page_title: title displayed in header
  - current_route: current route for navigation
#}

<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>
			{% block title %}
				{{ title|default('SamKhaser - Boutique VÃ©lo') }}
			{% endblock %}
		</title>

		<!-- Bootstrap CSS -->
		<link
		href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

		<!-- Bootstrap Icons -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">

		{% block stylesheets %}
			<style>
				/* Custom styles for sidebar layout */
				.layout {
					display: flex;
					min-height: 100vh;
				}

				.sidebar {
					width: 280px;
					background: #f8f9fa;
					border-right: 1px solid #dee2e6;
					transition: margin-left 0.3s ease;
					position: relative;
					z-index: 1000;
				}

				.sidebar.collapsed {
					margin-left: -280px;
				}

				.sidebar-header {
					padding: 1.5rem 1rem;
					border-bottom: 1px solid #dee2e6;
				}

				.sidebar-brand {
					margin: 0;
					color: #495057;
					display: flex;
					align-items: center;
				}

				.sidebar-content {
					padding: 1rem;
					height: calc(100vh - 80px);
					overflow-y: auto;
				}

				.sidebar-nav {
					list-style: none;
					padding: 0;
					margin: 0;
				}

				.nav-item {
					margin-bottom: 0.25rem;
				}

				.nav-link {
					display: flex;
					align-items: center;
					padding: 0.75rem 1rem;
					color: #6c757d;
					text-decoration: none;
					border-radius: 0.375rem;
					transition: all 0.2s ease;
				}

				.nav-link:hover {
					background-color: #e9ecef;
					color: #495057;
				}

				.nav-link.active {
					background-color: #0d6efd;
					color: white;
				}

				.nav-header {
					padding: 0.5rem 1rem;
					font-size: 0.875rem;
					font-weight: 600;
					color: #6c757d;
					text-transform: uppercase;
					letter-spacing: 0.025em;
				}

				.nav-divider {
					height: 1px;
					background-color: #dee2e6;
					margin: 0.5rem 0;
				}

				.main-content {
					flex: 1;
					display: flex;
					flex-direction: column;
					min-width: 0;
				}

				.header {
					background: white;
					border-bottom: 1px solid #dee2e6;
					padding: 1rem 1.5rem;
					position: sticky;
					top: 0;
					z-index: 999;
				}

				.header-content {
					display: flex;
					align-items: center;
				}

				.header-title {
					font-size: 1.5rem;
					font-weight: 600;
					color: #495057;
				}

				.header-actions {
					display: flex;
					align-items: center;
				}

				.content {
					flex: 1;
					padding: 2rem 1.5rem;
					background: #f8f9fa;
				}

				.footer {
					background: white;
					border-top: 1px solid #dee2e6;
					padding: 2rem 0;
					margin-top: auto;
				}

				/* Responsive adjustments */
				@media(max-width: 768px) {
					.sidebar {
						position: fixed;
						height: 100vh;
						z-index: 1050;
						margin-left: -280px;
					}

					.sidebar.show {
						margin-left: 0;
					}

					.main-content {
						width: 100%;
					}
				}

				/* Search bar in sidebar */
				.sidebar-search .input-group {
					background: white;
					border-radius: 0.375rem;
					border: 1px solid #ced4da;
				}

				.sidebar-search .form-control {
					border: none;
					box-shadow: none;
				}
			</style>
		{% endblock %}

		<!-- SVG Icons -->
		<svg style="display: none;">
			<defs>
				<symbol id="menu" viewbox="0 0 16 16">
					<path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
				</symbol>
				<symbol id="bicycle" viewbox="0 0 16 16">
					<path d="M4 4.5a.5.5 0 0 1 .5-.5H6a.5.5 0 0 1 0 1v.5h4.14l.386-1.158A.5.5 0 0 1 11 4h1a.5.5 0 0 1 0 1h-.64l-.311.935L11.7 8H12a3 3 0 1 1-2.83-2h-.35l-.964-.964A.5.5 0 0 1 8.2 4.5h.7l.25.75L8.8 6.5h-.35l.35 1.05L9.5 8.5H8l-.5-1.5H6.5v1a.5.5 0 0 1-1 0V6.5H4.5a.5.5 0 0 1-.5-.5V4.5zM12 9a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM4 9a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/>
				</symbol>
				<symbol id="grid" viewbox="0 0 16 16">
					<path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"/>
				</symbol>
				<symbol id="heart" viewbox="0 0 16 16">
					<path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
				</symbol>
				<symbol id="search" viewbox="0 0 16 16">
					<path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
				</symbol>
				<symbol id="person" viewbox="0 0 16 16">
					<path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
				</symbol>
				<symbol id="cart" viewbox="0 0 16 16">
					<path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
				</symbol>
				<symbol id="cart-plus" viewbox="0 0 16 16">
					<path d="M9 5.5a.5.5 0 0 0-1 0V7H6.5a.5.5 0 0 0 0 1H8v1.5a.5.5 0 0 0 1 0V8h1.5a.5.5 0 0 0 0-1H9V5.5z"/>
					<path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
				</symbol>
				<symbol id="bell" viewbox="0 0 16 16">
					<path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"/>
				</symbol>
			</defs>
		</svg>
	</head>

	<body>
		<div
			class="layout">
			<!-- Sidebar -->
			{% include 'components/organisms/sidebar.html.twig' with {
            current_route: current_route|default(app.request.attributes.get('_route'))
        } %}

			<!-- Main Content Area -->
			<div
				class="main-content">
				<!-- Header -->
				{% include 'components/organisms/header.html.twig' with {
                title: block('title')|default('SamKhaser')
            } %}

				<!-- Content -->
				<main class="content"> {% block body %}{% endblock %}
					</main>

					<!-- Footer -->
					{% include 'components/organisms/footer.html.twig' %}
				</div>
			</div>

			<!-- Bootstrap JS -->
			<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

			{% block javascripts %}
				<script>
					// Sidebar toggle functionality
document.addEventListener('DOMContentLoaded', function () {
const sidebarToggle = document.getElementById('sidebarToggle');
const sidebar = document.getElementById('sidebar');

if (sidebarToggle && sidebar) {
sidebarToggle.addEventListener('click', function () {
sidebar.classList.toggle('collapsed');

// Store sidebar state in localStorage
const isCollapsed = sidebar.classList.contains('collapsed');
localStorage.setItem('sidebarCollapsed', isCollapsed);
});

// Restore sidebar state from localStorage
const savedState = localStorage.getItem('sidebarCollapsed');
if (savedState === 'true') {
sidebar.classList.add('collapsed');
}

// Handle responsive behavior
function handleResize() {
if (window.innerWidth<= 768) {
                            sidebar.classList.remove('collapsed');
                            sidebar.classList.remove('show');
                            
                            sidebarToggle.addEventListener('click', function() {
                                sidebar.classList.toggle('show');
                            });
                        }
                    }
                    
                    window.addEventListener('resize', handleResize);
                    handleResize(); // Initial call
                }
            });
            
            // Add to cart functionality (placeholder)
            document.addEventListener('click', function(e) {
                if (e.target.closest('[data-product-id]')) {
                    const productId = e.target.closest('[data-product-id]').dataset.productId;
                    
                    // Here you would typically make an AJAX call to add the product to cart
                    console.log('Adding product to cart:', productId);
                    
                    // Show a simple feedback
                    const button = e.target.closest('button');
                    const originalContent = button.innerHTML;
                    button.innerHTML = '<svg width="16" height="16" fill="currentColor"><use href="#check"></use></svg>';
                    button.disabled = true;
                    
                    setTimeout(() => {
button.innerHTML = originalContent;
button.disabled = false;
}, 1000) 





}
}
);
</script>
					{% endblock %}
		
			</body>
		</body>
	</html>
